# ğŸ“ Ø¯Ù„ÙŠÙ„ Endpoints Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©

## Ù…Ù„Ø®Øµ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª

ØªÙ… ØªØ­Ø¯ÙŠØ« Ù†Ø¸Ø§Ù… Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ù„ÙŠØ³ØªØ®Ø¯Ù… **ID Ù…Ù† Ø§Ù„Ù€ Database** Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„Ù€ `label` Ù„Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©:
- âœ… Ø¬Ù„Ø¨ Ø¹Ù†ÙˆØ§Ù† Ù…Ø¹ÙŠÙ†
- âœ… ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù†ÙˆØ§Ù†
- âœ… Ø­Ø°Ù Ø¹Ù†ÙˆØ§Ù†

---

## ğŸ“‹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù€ Endpoints

### 1ï¸âƒ£ Ø­ÙØ¸ Ø¹Ù†ÙˆØ§Ù† Ø¬Ø¯ÙŠØ¯ (Ø£Ùˆ ØªØ­Ø¯ÙŠØ« Ø¹Ù†ÙˆØ§Ù† Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ù†ÙØ³ Ø§Ù„Ù€ label)

**Endpoint:**
```
POST /api/v1/passenger/addresses
```

**Ø§Ù„ÙˆØ¸ÙŠÙØ©:**
- Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ÙˆØ§Ù† Ø¬Ø¯ÙŠØ¯ (home, work, favorite)
- Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù€ label Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„ØŒ Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡

**Headers:**
```
Authorization: Bearer YOUR_TOKEN
Content-Type: application/json
```

**Body:**
```json
{
  "label": "home",
  "address": "22 Ø´Ø§Ø±Ø¹ Ø§Ù„Ø«ÙˆØ±Ø©ØŒ Ù…Ø¯ÙŠÙ†Ø© Ù†ØµØ±",
  "latitude": 30.0444,
  "longitude": 31.2357
}
```

**Ø´Ø±Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„:**
- `label`: Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (home, work, favorite) - **Ù…Ø·Ù„ÙˆØ¨**
- `address`: Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù†ØµÙŠ - **Ù…Ø·Ù„ÙˆØ¨**
- `latitude`: Ø®Ø· Ø§Ù„Ø¹Ø±Ø¶ - **Ù…Ø·Ù„ÙˆØ¨**
- `longitude`: Ø®Ø· Ø§Ù„Ø·ÙˆÙ„ - **Ù…Ø·Ù„ÙˆØ¨**

**Response:**
```json
{
  "status": "success",
  "message": "Address saved successfully",
  "data": [
    {
      "_id": "507f1f77bcf86cd799439011",
      "label": "home",
      "address": "22 Ø´Ø§Ø±Ø¹ Ø§Ù„Ø«ÙˆØ±Ø©ØŒ Ù…Ø¯ÙŠÙ†Ø© Ù†ØµØ±",
      "coordinates": {
        "latitude": 30.0444,
        "longitude": 31.2357
      }
    }
  ]
}
```

---

### 2ï¸âƒ£ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©

**Endpoint:**
```
GET /api/v1/passenger/addresses
```

**Ø§Ù„ÙˆØ¸ÙŠÙØ©:**
Ø¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù„Ø±Ø§ÙƒØ¨

**Headers:**
```
Authorization: Bearer YOUR_TOKEN
```

**Response:**
```json
{
  "status": "success",
  "results": 2,
  "data": [
    {
      "_id": "507f1f77bcf86cd799439011",
      "label": "home",
      "address": "22 Ø´Ø§Ø±Ø¹ Ø§Ù„Ø«ÙˆØ±Ø©ØŒ Ù…Ø¯ÙŠÙ†Ø© Ù†ØµØ±",
      "coordinates": {
        "latitude": 30.0444,
        "longitude": 31.2357
      }
    },
    {
      "_id": "507f1f77bcf86cd799439012",
      "label": "work",
      "address": "15 Ø´Ø§Ø±Ø¹ Ø§Ù„ØªØ­Ø±ÙŠØ±ØŒ ÙˆØ³Ø· Ø§Ù„Ø¨Ù„Ø¯",
      "coordinates": {
        "latitude": 30.0500,
        "longitude": 31.2400
      }
    }
  ]
}
```

---

### 3ï¸âƒ£ Ø¬Ù„Ø¨ Ø¹Ù†ÙˆØ§Ù† Ù…Ø¹ÙŠÙ† Ø¨Ø§Ù„Ù€ ID â­ Ø¬Ø¯ÙŠØ¯

**Endpoint:**
```
GET /api/v1/passenger/addresses/:id
```

**Ø§Ù„ÙˆØ¸ÙŠÙØ©:**
Ø¬Ù„Ø¨ Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ø­Ø¯ Ù…Ø­Ø¯Ø¯ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù€ ID Ø§Ù„Ø®Ø§Øµ Ø¨Ù‡ Ù…Ù† Ø§Ù„Ù€ database

**Ù…Ø«Ø§Ù„:**
```
GET /api/v1/passenger/addresses/507f1f77bcf86cd799439011
```

**Headers:**
```
Authorization: Bearer YOUR_TOKEN
```

**Response:**
```json
{
  "status": "success",
  "data": {
    "_id": "507f1f77bcf86cd799439011",
    "label": "home",
    "address": "22 Ø´Ø§Ø±Ø¹ Ø§Ù„Ø«ÙˆØ±Ø©ØŒ Ù…Ø¯ÙŠÙ†Ø© Ù†ØµØ±",
    "coordinates": {
      "latitude": 30.0444,
      "longitude": 31.2357
    }
  }
}
```

**Error Response (Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†):**
```json
{
  "status": "fail",
  "message": "Address not found"
}
```

---

### 4ï¸âƒ£ ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„Ù€ ID â­ Ø¬Ø¯ÙŠØ¯

**Endpoint:**
```
PUT /api/v1/passenger/addresses/:id
```

**Ø§Ù„ÙˆØ¸ÙŠÙØ©:**
ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù†ÙˆØ§Ù† Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù€ ID Ø§Ù„Ø®Ø§Øµ Ø¨Ù‡ Ù…Ù† Ø§Ù„Ù€ database

**Ù…Ø«Ø§Ù„:**
```
PUT /api/v1/passenger/addresses/507f1f77bcf86cd799439011
```

**Headers:**
```
Authorization: Bearer YOUR_TOKEN
Content-Type: application/json
```

**Body (ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø±Ø³Ø§Ù„ Ø£ÙŠ Ø­Ù‚Ù„ ØªØ±ÙŠØ¯ ØªØ¹Ø¯ÙŠÙ„Ù‡ ÙÙ‚Ø·):**
```json
{
  "address": "25 Ø´Ø§Ø±Ø¹ Ø§Ù„Ø«ÙˆØ±Ø©ØŒ Ù…Ø¯ÙŠÙ†Ø© Ù†ØµØ± (Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¬Ø¯ÙŠØ¯)",
  "latitude": 30.0450,
  "longitude": 31.2360
}
```

**Ø£Ùˆ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù€ label:**
```json
{
  "label": "favorite"
}
```

**Ø£Ùˆ ØªØ¹Ø¯ÙŠÙ„ ÙƒÙ„ Ø§Ù„Ø­Ù‚ÙˆÙ„:**
```json
{
  "label": "work",
  "address": "Ù…ÙƒØªØ¨ Ø¬Ø¯ÙŠØ¯ØŒ Ø´Ø§Ø±Ø¹ Ø§Ù„ØªØ­Ø±ÙŠØ±",
  "latitude": 30.0500,
  "longitude": 31.2400
}
```

**Ø´Ø±Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„:**
- `label`: Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (home, work, favorite) - **Ø§Ø®ØªÙŠØ§Ø±ÙŠ**
- `address`: Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù†ØµÙŠ - **Ø§Ø®ØªÙŠØ§Ø±ÙŠ**
- `latitude`: Ø®Ø· Ø§Ù„Ø¹Ø±Ø¶ - **Ø§Ø®ØªÙŠØ§Ø±ÙŠ**
- `longitude`: Ø®Ø· Ø§Ù„Ø·ÙˆÙ„ - **Ø§Ø®ØªÙŠØ§Ø±ÙŠ**

âš ï¸ **Ù…Ù„Ø§Ø­Ø¸Ø©:** Ù„Ø§Ø²Ù… ØªØ±Ø³Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ø­Ù‚Ù„ ÙˆØ§Ø­Ø¯ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„

**Response:**
```json
{
  "status": "success",
  "message": "Address updated successfully",
  "data": {
    "_id": "507f1f77bcf86cd799439011",
    "label": "work",
    "address": "Ù…ÙƒØªØ¨ Ø¬Ø¯ÙŠØ¯ØŒ Ø´Ø§Ø±Ø¹ Ø§Ù„ØªØ­Ø±ÙŠØ±",
    "coordinates": {
      "latitude": 30.0500,
      "longitude": 31.2400
    }
  }
}
```

**Error Responses:**

1. Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:
```json
{
  "status": "fail",
  "message": "Address not found"
}
```

2. Ø¥Ø°Ø§ Ø­Ø§ÙˆÙ„Øª ØªØºÙŠÙŠØ± Ø§Ù„Ù€ label Ù„Ù€ label Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„:
```json
{
  "status": "fail",
  "message": "Address with label 'home' already exists"
}
```

3. Ø¥Ø°Ø§ Ù„Ù… ØªØ±Ø³Ù„ Ø£ÙŠ Ø­Ù‚Ù„ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„:
```json
{
  "status": "fail",
  "message": "At least one field is required to update"
}
```

---

### 5ï¸âƒ£ Ø­Ø°Ù Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„Ù€ ID â­ Ù…Ø­Ø¯Ù‘Ø«

**Endpoint:**
```
DELETE /api/v1/passenger/addresses/:id
```

**Ø§Ù„ÙˆØ¸ÙŠÙØ©:**
Ø­Ø°Ù Ø¹Ù†ÙˆØ§Ù† Ù…Ø­ÙÙˆØ¸ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù€ ID Ø§Ù„Ø®Ø§Øµ Ø¨Ù‡ Ù…Ù† Ø§Ù„Ù€ database

**Ù…Ø«Ø§Ù„:**
```
DELETE /api/v1/passenger/addresses/507f1f77bcf86cd799439011
```

**Headers:**
```
Authorization: Bearer YOUR_TOKEN
```

**Response:**
```json
{
  "status": "success",
  "message": "Address deleted successfully",
  "data": [
    {
      "_id": "507f1f77bcf86cd799439012",
      "label": "work",
      "address": "15 Ø´Ø§Ø±Ø¹ Ø§Ù„ØªØ­Ø±ÙŠØ±ØŒ ÙˆØ³Ø· Ø§Ù„Ø¨Ù„Ø¯",
      "coordinates": {
        "latitude": 30.0500,
        "longitude": 31.2400
      }
    }
  ]
}
```

**Error Response (Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†):**
```json
{
  "status": "fail",
  "message": "Address not found"
}
```

---

## ğŸ”„ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø¯ÙŠÙ… ÙˆØ§Ù„Ø¬Ø¯ÙŠØ¯

### âŒ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø¯ÙŠÙ…:
- Ø§Ù„Ø­Ø°Ù ÙƒØ§Ù† Ø¨Ø§Ù„Ù€ `label`: `DELETE /api/v1/passenger/addresses/home`
- Ù…ÙÙŠØ´ endpoint Ù„Ø¬Ù„Ø¨ Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ø­Ø¯
- Ù…ÙÙŠØ´ endpoint Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù†ÙˆØ§Ù† Ù…ÙˆØ¬ÙˆØ¯

### âœ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯:
- Ø§Ù„Ø­Ø°Ù Ø¨Ø§Ù„Ù€ `_id`: `DELETE /api/v1/passenger/addresses/507f1f77bcf86cd799439011`
- Ø¥Ø¶Ø§ÙØ© endpoint Ù„Ø¬Ù„Ø¨ Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ø­Ø¯ Ø¨Ø§Ù„Ù€ `_id`
- Ø¥Ø¶Ø§ÙØ© endpoint Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„Ù€ `_id`
- ÙƒÙ„ Ø¹Ù†ÙˆØ§Ù† Ù„Ù‡ `_id` ÙØ±ÙŠØ¯ Ù…Ù† Ø§Ù„Ù€ database

---

## ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©

1. **Ø§Ù„Ù€ _id ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹** Ù…Ù† Mongoose Ø¹Ù†Ø¯ Ø­ÙØ¸ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
2. **Ø§Ù„Ù€ label Ù„Ø§Ø²Ù… ÙŠÙƒÙˆÙ† ÙØ±ÙŠØ¯** - Ù…ÙŠÙ†ÙØ¹Ø´ ÙŠÙƒÙˆÙ† Ø¹Ù†Ø¯Ùƒ Ø¹Ù†ÙˆØ§Ù†ÙŠÙ† Ø¨Ù†ÙØ³ Ø§Ù„Ù€ label
3. **Ø¹Ù†Ø¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„** - Ù„Ùˆ ØºÙŠØ±Øª Ø§Ù„Ù€ label Ù„Ù€ label Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„ ÙÙŠ Ø¹Ù†ÙˆØ§Ù† ØªØ§Ù†ÙŠØŒ Ù‡ÙŠØ±Ø¬Ø¹ error
4. **Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù€ endpoints Ù…Ø­Ù…ÙŠØ©** - Ù„Ø§Ø²Ù… ØªÙƒÙˆÙ† Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„ ÙƒÙ€ passenger (user)

---

## ğŸ§ª Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ© ÙÙŠ Postman

### Ù…Ø«Ø§Ù„ 1: Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨ÙŠØª
```
POST /api/v1/passenger/addresses
Body:
{
  "label": "home",
  "address": "22 Ø´Ø§Ø±Ø¹ Ø§Ù„Ø«ÙˆØ±Ø©ØŒ Ù…Ø¯ÙŠÙ†Ø© Ù†ØµØ±",
  "latitude": 30.0444,
  "longitude": 31.2357
}
```

### Ù…Ø«Ø§Ù„ 2: Ø¬Ù„Ø¨ ÙƒÙ„ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† ÙˆØ£Ø®Ø° Ø§Ù„Ù€ ID
```
GET /api/v1/passenger/addresses

Response Ø³ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰:
{
  "data": [
    {
      "_id": "507f1f77bcf86cd799439011",  â† Ø§Ø³ØªØ®Ø¯Ù… Ù‡Ø°Ø§ Ø§Ù„Ù€ ID
      "label": "home",
      ...
    }
  ]
}
```

### Ù…Ø«Ø§Ù„ 3: ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù€ ID
```
PUT /api/v1/passenger/addresses/507f1f77bcf86cd799439011
Body:
{
  "address": "Ø¹Ù†ÙˆØ§Ù† Ø¬Ø¯ÙŠØ¯"
}
```

### Ù…Ø«Ø§Ù„ 4: Ø­Ø°Ù Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù€ ID
```
DELETE /api/v1/passenger/addresses/507f1f77bcf86cd799439011
```

---

## âœ… ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø¨Ù†Ø¬Ø§Ø­!

Ø§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ†Ùƒ:
- âœ… Ø¬Ù„Ø¨ Ø¹Ù†ÙˆØ§Ù† Ù…Ø¹ÙŠÙ† Ø¨Ø§Ù„Ù€ ID
- âœ… ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„Ù€ ID
- âœ… Ø­Ø°Ù Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„Ù€ ID
- âœ… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ØªØ³ØªØ®Ø¯Ù… Ø§Ù„Ù€ database ID Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„Ù€ label
